#沙皇之治
BLA_rule_of_tsar = {
    #安抚贵族
    BLA_prefer_nobility = {
        available = {
            NOT = {has_country_flag = BLA_rot_action_implemented}
        }
        visible = {
        }
        cost = 25
        days_re_enable = 60
        days_remove = 30
        complete_effect = {
            set_country_flag = BLA_rot_action_implemented
        }
        remove_effect = {
            BLA_increase_nobility_opinion = yes
            clr_country_flag = BLA_rot_action_implemented
        }
    }
    #强迫贵族合作
    BLA_force_nobility_to_cooperate = {
        available = {
            custom_trigger_tooltip = {
                tooltip = BLA_has_enough_nobility_secret_1
                BLA = {check_variable = {BLA_nobility_secret > 0}}
            }
        }
        visible = {
            BLA = {check_variable = {BLA_nobility_secret > 0}}
        }
        cost = 0
        days_re_enable = 1
        days_remove = 3
        complete_effect = {
            hidden_effect = {
                BLA = {add_to_variable = {BLA_nobility_secret = -1}}
            }
        }
        remove_effect = {
            add_political_power = 50
        }
    }
    #贵族慷慨解囊
    BLA_force_nobility_to_pay = {
        available = {
            custom_trigger_tooltip = {
                tooltip = BLA_has_enough_nobility_secret_2
                BLA = {check_variable = {BLA_nobility_secret > 1}}
            }
        }
        visible = {
            BLA = {check_variable = {BLA_nobility_secret > 0}}
        }
        cost = 0
        days_re_enable = 1
        days_remove = 3
        complete_effect = {
            hidden_effect = {
                BLA = {add_to_variable = {BLA_nobility_secret = -2}}
            }
        }
        remove_effect = {
            custom_effect_tooltip = BLA_nobility_pay_100
            hidden_effect = {
                BLA = {add_to_variable = {BLA_industralization_fund = 100}}
            }
        }
    }
    #安抚教会
    BLA_prefer_church = {
        available = {
            NOT = {has_country_flag = BLA_rot_action_implemented}
        }
        visible = {
        }
        cost = 25
        days_re_enable = 60
        days_remove = 30
        complete_effect = {
            set_country_flag = BLA_rot_action_implemented
        }
        remove_effect = {
            BLA_increase_church_opinion = yes
            clr_country_flag = BLA_rot_action_implemented
        }
    }
    #强迫教会合作
    BLA_force_church_to_cooperate = {
        available = {
            custom_trigger_tooltip = {
                tooltip = BLA_has_enough_church_secret_1
                BLA = {check_variable = {BLA_church_secret > 0}}
            }
        }
        visible = {
            BLA = {check_variable = {BLA_church_secret > 0}}
        }
        cost = 0
        days_re_enable = 1
        days_remove = 3
        complete_effect = {
            hidden_effect = {
                BLA = {add_to_variable = {BLA_church_secret = -1}}
            }
        }
        remove_effect = {
            add_political_power = 25
            add_stability = 0.025
        }
    }
    #牧首大人慷慨解囊
    BLA_force_church_to_pay = {
        available = {
            custom_trigger_tooltip = {
                tooltip = BLA_has_enough_church_secret_2
                BLA = {check_variable = {BLA_church_secret > 1}}
            }
        }
        visible = {
            BLA = {check_variable = {BLA_church_secret > 0}}
        }
        cost = 0
        days_re_enable = 1
        days_remove = 3
        complete_effect = {
            hidden_effect = {
                BLA = {add_to_variable = {BLA_church_secret = -2}}
            }
        }
        remove_effect = {
            custom_effect_tooltip = BLA_church_pay_125
            hidden_effect = {
                BLA = {add_to_variable = {BLA_industralization_fund = 125}}
            }
        }
    }
    #安抚军队
    BLA_prefer_army = {
        available = {
            NOT = {has_country_flag = BLA_rot_action_implemented}
        }
        visible = {
        }
        cost = 25
        days_re_enable = 60
        days_remove = 30
        complete_effect = {
            set_country_flag = BLA_rot_action_implemented
        }
        remove_effect = {
            BLA_increase_army_opinion = yes
            clr_country_flag = BLA_rot_action_implemented
        }
    }
    #清洗军队中的激进分子
    BLA_purge_army = {
        available = {
            custom_trigger_tooltip = {
                tooltip = BLA_has_enough_army_secret
                BLA = {check_variable = {BLA_army_secret > 0}}
            }
        }
        visible = {
            BLA = {check_variable = {BLA_army_secret > 0}}
        }
        cost = 0
        days_re_enable = 1
        days_remove = 3
        complete_effect = {
            hidden_effect = {
                BLA = {add_to_variable = {BLA_army_secret = -1}}
            }
        }
        remove_effect = {
            add_popularity = {
                ideology = communism
                popularity = -0.01
            }
        }
    }
    #安抚实业家
    BLA_prefer_capitalist = {
        available = {
            NOT = {has_country_flag = BLA_rot_action_implemented}
        }
        visible = {
        }
        cost = 25
        days_re_enable = 60
        days_remove = 30
        complete_effect = {
            set_country_flag = BLA_rot_action_implemented
        }
        remove_effect = {
            BLA_increase_capitalist_opinion = yes
            clr_country_flag = BLA_rot_action_implemented
        }
    }
    #资本家爆金币
    BLA_force_capitalist_to_pay = {
        available = {
            custom_trigger_tooltip = {
                tooltip = BLA_has_enough_capitalist_secret
                BLA = {check_variable = {BLA_capitalist_secret > 0}}
            }
        }
        visible = {
            BLA = {check_variable = {BLA_capitalist_secret > 0}}
        }
        cost = 0
        days_re_enable = 1
        days_remove = 3
        complete_effect = {
            hidden_effect = {
                BLA = {add_to_variable = {BLA_capitalist_secret = -1}}
            }
        }
        remove_effect = {
            custom_effect_tooltip = BLA_capitalist_pay_50
            hidden_effect = {
                BLA = {add_to_variable = {BLA_industralization_fund = 50}}
            }
        }
    }
    #安抚自由民
    BLA_prefer_freeman = {
        available = {
            NOT = {has_country_flag = BLA_rot_action_implemented}
        }
        visible = {
        }
        cost = 25
        days_re_enable = 60
        days_remove = 30
        complete_effect = {
            set_country_flag = BLA_rot_action_implemented
        }
        remove_effect = {
            BLA_increase_freeman_opinion = yes
            clr_country_flag = BLA_rot_action_implemented
        }
    }
    #重申农奴权利
    BLA_assert_serfs_right = {
        available = {
            NOT = {has_country_flag = BLA_rot_action_implemented}
        }
        visible = {
        }
        cost = 25
        days_re_enable = 60
        days_remove = 30
        complete_effect = {
            set_country_flag = BLA_rot_action_implemented
        }
        remove_effect = {
            BLA_increase_serf_opinion = yes
            BLA_decrease_nobility_opinion_big = yes
            clr_country_flag = BLA_rot_action_implemented
        }
    }
    #忽视农奴保护令
    BLA_ignore_serfs_right = {
        available = {
            NOT = {has_country_flag = BLA_rot_action_implemented}
        }
        visible = {
        }
        cost = 25
        days_re_enable = 60
        days_remove = 30
        complete_effect = {
            set_country_flag = BLA_rot_action_implemented
        }
        remove_effect = {
            BLA_increase_nobility_opinion = yes
            BLA_decrease_serf_opinion_big = yes
            clr_country_flag = BLA_rot_action_implemented
        }
    }
}
#第三厅
BLA_secret_police = {
    #查找秘密
    BLA_investigate_secret = {
        available = {
            NOT = {has_country_flag = BLA_secret_action_implemented}
        }
        visible = {
        }
        cost = 0
        days_re_enable = 7
        days_remove = 7
        complete_effect = {
            set_country_flag = BLA_secret_action_implemented
        }
        remove_effect = {
                if = {
                    limit = {
                        BLA = {check_variable = {BLA_monthly_secret_action > 2}}
                    }
                    random_list = {
                        30 = {
                            BLA_gain_random_secret = yes
                        }
                        30 ={
                            custom_effect_tooltip = BLA_secret_action_no_result_desc
                        }
                        10 = {
                            BLA_decrease_nobility_opinion = yes
                        }
                        10 = {
                            BLA_decrease_church_opinion = yes
                        }
                        10 = {
                            BLA_decrease_army_opinion = yes
                        }
                        10 = {
                            BLA_decrease_capitalist_opinion = yes
                        }
                    }
                }
                else_if = {
                    limit = {
                        BLA = {check_variable = {BLA_monthly_secret_action > 1}}
                    }
                    random_list = {
                        40 = {
                            BLA_gain_random_secret = yes
                        }
                        40 ={
                            custom_effect_tooltip = BLA_secret_action_no_result_desc
                        }
                        5 = {
                            BLA_decrease_nobility_opinion = yes
                        }
                        5 = {
                            BLA_decrease_church_opinion = yes
                        }
                        5 = {
                            BLA_decrease_army_opinion = yes
                        }
                        5 = {
                            BLA_decrease_capitalist_opinion = yes
                        }
                    }
                }
                else_if = {
                    limit = {
                        BLA = {check_variable = {BLA_monthly_secret_action > 0}}
                    }
                    random_list = {
                        50 = {
                            BLA_gain_random_secret = yes
                        }
                        40 ={
                            custom_effect_tooltip = BLA_secret_action_no_result_desc
                        }
                        2.5 = {
                            BLA_decrease_nobility_opinion = yes
                        }
                        2.5 = {
                            BLA_decrease_church_opinion = yes
                        }
                        2.5 = {
                            BLA_decrease_army_opinion = yes
                        }
                        2.5 = {
                            BLA_decrease_capitalist_opinion = yes
                        }
                    }
                }
                else = {
                    random_list = {
                        60 = {
                            BLA_gain_random_secret = yes
                        }
                        40 ={
                            custom_effect_tooltip = BLA_secret_action_no_result_desc
                        }
                    }
                }
            hidden_effect = {
                clr_country_flag = BLA_secret_action_implemented
                BLA = {
                    add_to_variable = {BLA_monthly_secret_action = 1}
                }
            }
        }
    }
    #加强审核
    BLA_streghten_censorship = {
        available = {
            NOT = {has_country_flag = BLA_loosen_censorship_flag }
        }
        visible = {
        }
        cost = 30
        days_remove = 30
        days_re_enable = 30
        complete_effect = {
            set_country_flag = BLA_streghten_censorship_flag
        }
        remove_effect = {
            add_popularity = {
                ideology = communism
                popularity = -0.02
            }
            BLA_decrease_freeman_opinion = yes
            clr_country_flag = BLA_streghten_censorship_flag
        }
    }
    #放宽审核
    BLA_loosen_censorship = {
        available = {
            NOT = {has_country_flag = BLA_streghten_censorship_flag }
        }
        visible = {
        }
        cost = 30
        days_remove = 30
        days_re_enable = 30
        complete_effect = {
            set_country_flag = BLA_loosen_censorship_flag
        }
        remove_effect = {
            add_popularity = {
                ideology = democratic
                popularity = 0.02
            }
            BLA_increase_freeman_opinion = yes
            BLA_decrease_church_opinion = yes
            clr_country_flag = BLA_loosen_censorship_flag
        }
    }
    #改编革命歌曲
    BLA_modifiy_songs = {
        available = {
        }
        visible = {
        }
        cost = 30
        days_remove = 30
        days_re_enable = 30
        complete_effect = {
        }
        remove_effect = {
            add_popularity = {
                ideology = communism
                popularity = -0.01
            }
            add_popularity = {
                ideology = neutrality
                popularity = 0.01
            }
            BLA_decrease_freeman_opinion = yes
        }
    }
    #逮捕激进分子
    BLA_arrest_com = {
        available = {
            NOT = {has_country_flag = BLA_secret_action_implemented}
        }
        visible = {
        }
        custom_cost_trigger = {
			command_power > 50
		}
        custom_cost_text = decision_cost_CP_50
        days_remove = 7
        days_re_enable = 30
        complete_effect = {
            set_country_flag = BLA_secret_action_implemented
        }
        remove_effect = {
            random_list = {
                25 = {
                    add_popularity = {
                        ideology = communism
                        popularity = -0.05
                    }
                }
                75 = {
                    custom_effect_tooltip = BLA_stupid_police_failed_desc
                }
            }
            BLA_decrease_freeman_opinion = yes
            clr_country_flag = BLA_secret_action_implemented
        }
    }
}
#工业化
BLA_industralization = {
    #第一阶段
    BLA_upgrade_industralization_1 = {
        available = {
            NOT = {
                has_war = yes
            }
            has_tech = improved_machine_tools
            num_of_factories > 59
            OR = {
                has_tech = concentrated_industry2 
                has_tech = dispersed_industry2
            }
            custom_trigger_tooltip = {
                tooltip = BLA_has_2500_fund
                BLA = {check_variable = {BLA_industralization_fund > 2499}}
            }
        }
        visible = {
        }
        fire_only_once = yes
        cost = 0
        days_remove = 7
        complete_effect = {
            hidden_effect = {
                BLA = {
                    add_to_variable = {BLA_industralization_fund = -2500}
                }
            }
        }
        remove_effect = {
            custom_effect_tooltip = BLA_upgrade_industralization_desc
            hidden_effect = {
                BLA = {
                    add_to_variable = {BLA_industralization_status = 1}
                    add_to_variable = {BLA_dynamic_industrial_capacity_factory = 0.1}
                    add_to_variable = {BLA_dynamic_production_factory_max_efficiency_factor = 0.05}
                    add_to_variable = {BLA_dynamic_production_speed_buildings_factor = 0.05}
                }
            }
        }
    }
    #第二阶段
    BLA_upgrade_industralization_2 = {
        available = {
            NOT = {
                has_war = yes
            }
            has_tech = advanced_machine_tools
            num_of_factories > 79
            OR = {
                has_tech = concentrated_industry3 
                has_tech = dispersed_industry3
            }
            custom_trigger_tooltip = {
                tooltip = BLA_has_3000_fund
                BLA = {check_variable = {BLA_industralization_fund > 2999}}
            }
        }
        visible = {
            BLA = {check_variable = {BLA_industralization_status = 2}}
        }
        fire_only_once = yes
        cost = 0
        days_remove = 7
        complete_effect = {
            hidden_effect = {
                BLA = {
                    add_to_variable = {BLA_industralization_fund = -3000}
                }
            }
        }
        remove_effect = {
            custom_effect_tooltip = BLA_upgrade_industralization_desc
            hidden_effect = {
                BLA = {
                    add_to_variable = {BLA_industralization_status = 1}
                    add_to_variable = {BLA_dynamic_industrial_capacity_factory = 0.1}
                    add_to_variable = {BLA_dynamic_industrial_capacity_dockyard = 0.1}
                    add_to_variable = {BLA_dynamic_production_factory_max_efficiency_factor = 0.05}
                    add_to_variable = {BLA_dynamic_production_speed_buildings_factor = 0.05}
                }
            }
        }
    }
    #第三阶段
    BLA_upgrade_industralization_3 = {
        available = {
            NOT = {
                has_war = yes
            }
            has_tech = assembly_line_production
            num_of_factories > 99
            OR = {
                has_tech = concentrated_industry4 
                has_tech = dispersed_industry4
            }
            custom_trigger_tooltip = {
                tooltip = BLA_has_3500_fund
                BLA = {check_variable = {BLA_industralization_fund > 3499}}
            }
        }
        visible = {
            BLA = {check_variable = {BLA_industralization_status = 3}}
        }
        fire_only_once = yes
        cost = 0
        days_remove = 7
        complete_effect = {
            hidden_effect = {
                BLA = {
                    add_to_variable = {BLA_industralization_fund = -3500}
                }
            }
        }
        remove_effect = {
            custom_effect_tooltip = BLA_upgrade_industralization_desc
            hidden_effect = {
                BLA = {
                    add_to_variable = {BLA_industralization_status = 1}
                    add_to_variable = {BLA_dynamic_industrial_capacity_factory = 0.1}
                    add_to_variable = {BLA_dynamic_industrial_capacity_dockyard = 0.1}
                    add_to_variable = {BLA_dynamic_production_factory_max_efficiency_factor = 0.05}
                    add_to_variable = {BLA_dynamic_production_speed_buildings_factor = 0.05}
                }
            }
        }
    }
    #第四阶段
    BLA_upgrade_industralization_4 = {
        available = {
            NOT = {
                has_war = yes
            }
            NOT = {
                has_idea = BLA_serfdom
                has_idea = BLA_reformed_serfdom
            }
            OR = {
                has_tech = flexible_line 
                has_tech = streamlined_line
            }
            num_of_factories > 119
            OR = {
                has_tech = concentrated_industry5 
                has_tech = dispersed_industry5
            }
            custom_trigger_tooltip = {
                tooltip = BLA_has_4000_fund
                BLA = {check_variable = {BLA_industralization_fund > 3999}}
            }
        }
        visible = {
            BLA = {check_variable = {BLA_industralization_status = 4}}
        }
        fire_only_once = yes
        cost = 0
        days_remove = 7
        complete_effect = {
            hidden_effect = {
                BLA = {
                    add_to_variable = {BLA_industralization_fund = -3500}
                }
            }
        }
        remove_effect = {
            custom_effect_tooltip = BLA_upgrade_industralization_desc
            hidden_effect = {
                BLA = {
                    add_to_variable = {BLA_industralization_status = 1}
                    add_to_variable = {BLA_dynamic_industrial_capacity_factory = 0.1}
                    add_to_variable = {BLA_dynamic_industrial_capacity_dockyard = 0.1}
                    add_to_variable = {BLA_dynamic_production_factory_max_efficiency_factor = 0.10}
                    add_to_variable = {BLA_dynamic_production_speed_buildings_factor = 0.05}
                }
            }
        }
    }
    #投资基建
    BLA_invest_infrastructure = {
        available = {
            custom_trigger_tooltip = {
                tooltip = BLA_has_400_fund
                BLA = {check_variable = {BLA_industralization_fund > 399}}
            }
        }
        visible = {
        }
        cost = 0
        days_remove = 60
        days_re_enable = 60
        complete_effect = {
            hidden_effect = {
                BLA = {
                    add_to_variable = {BLA_industralization_fund = -400}
                }
            }
        }
        remove_effect = {
            random_owned_controlled_state = {
                limit = {
                    NOT = {infrastructure > 4}
                }
			    add_building_construction = {
				    type = infrastructure
				    level = 1
				    instant_build = yes
			    }
		    }
        }
    }
    #投资民工
    BLA_invest_industrial_complex = {
        available = {
            custom_trigger_tooltip = {
                tooltip = BLA_has_1000_fund
                BLA = {check_variable = {BLA_industralization_fund > 999}}
            }
        }
        visible = {
            NOT = {
                BLA = {check_variable = {BLA_num_of_ic_invested > 14}}
            }
        }
        cost = 0
        days_remove = 100
        days_re_enable = 100
        complete_effect = {
            hidden_effect = {
                BLA = {
                    add_to_variable = {BLA_industralization_fund = -1000}
                }
            }
        }
        remove_effect = {
            random_owned_controlled_state = {
                add_extra_state_shared_building_slots = 1
			    add_building_construction = {
				    type = industrial_complex
				    level = 1
				    instant_build = yes
			    }
		    }
            hidden_effect = {
                BLA = {add_to_variable = {BLA_num_of_ic_invested = 1}}
            }
        }
    }
    #投资军工
    BLA_invest_arms_factory = {
        available = {
            custom_trigger_tooltip = {
                tooltip = BLA_has_1000_fund
                BLA = {check_variable = {BLA_industralization_fund > 999}}
            }
        }
        visible = {
            NOT = {
                BLA = {check_variable = {BLA_num_of_af_invested > 9}}
            }
            BLA = {check_variable = {BLA_industralization_status > 1}}
        }
        cost = 0
        days_remove = 100
        days_re_enable = 100
        complete_effect = {
            hidden_effect = {
                BLA = {
                    add_to_variable = {BLA_industralization_fund = -1000}
                }
            }
        }
        remove_effect = {
            random_owned_controlled_state = {
                add_extra_state_shared_building_slots = 1
			    add_building_construction = {
				    type = arms_factory
				    level = 1
				    instant_build = yes
			    }
		    }
            hidden_effect = {
                BLA = {add_to_variable = {BLA_num_of_af_invested = 1}}
            }
        }
    }
    #投资船坞
    BLA_invest_dockyard = {
        available = {
            custom_trigger_tooltip = {
                tooltip = BLA_has_800_fund
                BLA = {check_variable = {BLA_industralization_fund > 799}}
            }
        }
        visible = {
            NOT = {
                BLA = {check_variable = {BLA_num_of_dockyard_invested > 9}}
            }
            BLA = {check_variable = {BLA_industralization_status > 1}}
        }
        cost = 0
        days_remove = 80
        days_re_enable = 80
        complete_effect = {
            hidden_effect = {
                BLA = {
                    add_to_variable = {BLA_industralization_fund = -800}
                }
            }
        }
        remove_effect = {
            random_owned_controlled_state = {
                limit = {
                    is_coastal = yes
                }
                add_extra_state_shared_building_slots = 1
			    add_building_construction = {
				    type = dockyard
				    level = 1
				    instant_build = yes
			    }
		    }
            hidden_effect = {
                BLA = {add_to_variable = {BLA_num_of_dockyard_invested = 1}}
            }
        }
    }
    #投资工业研发
    BLA_invest_tech = {
        available = {
            custom_trigger_tooltip = {
                tooltip = BLA_has_500_fund
                BLA = {check_variable = {BLA_industralization_fund > 499}}
            }
        }
        visible = {
            NOT = {
                BLA = {check_variable = {BLA_num_of_tech_invested > 3}}
            }
        }
        cost = 0
        days_remove = 50
        days_re_enable = 50
        complete_effect = {
            hidden_effect = {
                BLA = {
                    add_to_variable = {BLA_industralization_fund = -500}
                }
            }
        }
        remove_effect = {
            add_tech_bonus = {
                bonus = 0.33
                uses = 1
                category = industry
            }
            hidden_effect = {
                BLA = {add_to_variable = {BLA_num_of_tech_invested = 1}}
            }
        }
    }
}